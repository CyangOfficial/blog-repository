var y=(c,l,o)=>new Promise((t,d)=>{var u=e=>{try{i(o.next(e))}catch(a){d(a)}},f=e=>{try{i(o.throw(e))}catch(a){d(a)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,f);i((o=o.apply(c,l)).next())});import{A as C,r as h,S as T,$ as D,n as k,a0 as A,B as x,D as g,aa as R,ao as S,F as B,G as V,w as s,u as r,a5 as n,ad as b,J as _}from"./vendor.cb65b9e0.js";import F from"./DetailModal.311d06f2.js";import{u as I,B as M}from"./useTable.e6b528fa.js";import{T as $}from"./useForm.390b72f2.js";import{b as H}from"./index.5c166a1d.js";import{aj as N,b as z,aB as G}from"./index.eff4e99b.js";import{getColumns as J}from"./data.4897840a.js";import"./index.6aaf6e4a.js";/* empty css                *//* empty css              *//* empty css              */import"./index.ecf5c359.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.82a97c1a.js";import"./useContentViewHeight.18842951.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./useSortable.e39526a3.js";/* empty css                *//* empty css               *//* empty css               */import"./index.d5cde739.js";import"./download.c6821bd1.js";import"./index.93b53ece.js";var w;(function(c){c.Error="/error"})(w||(w={}));const W=()=>N.get({url:w.Error}),q={class:"p-4"},K=["src"],he=C({setup(c){const l=h(),o=h([]),{t}=z(),d=G(),[u,{setTableData:f}]=I({title:t("sys.errorLog.tableTitle"),columns:J(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[i,{openModal:e}]=H();T(()=>d.getErrorLogInfoList,m=>{D(()=>{f(k(m))})},{immediate:!0});function a(m){l.value=m,e(!0)}function E(){throw new Error("fire vue error!")}function v(){o.value.push(`${new Date().getTime()}.png`)}function L(){return y(this,null,function*(){yield W()})}return(m,O)=>{const j=A("a-button");return x(),g("div",q,[(x(!0),g(R,null,S(o.value,p=>B((x(),g("img",{key:p,src:p},null,8,K)),[[V,!1]])),128)),s(F,{info:l.value,onRegister:r(i)},null,8,["info","onRegister"]),s(r(M),{onRegister:r(u),class:"error-handle-table"},{toolbar:n(()=>[s(j,{onClick:E,type:"primary"},{default:n(()=>[b(_(r(t)("sys.errorLog.fireVueError")),1)]),_:1}),s(j,{onClick:v,type:"primary"},{default:n(()=>[b(_(r(t)("sys.errorLog.fireResourceError")),1)]),_:1}),s(j,{onClick:L,type:"primary"},{default:n(()=>[b(_(r(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:n(({record:p})=>[s(r($),{actions:[{label:r(t)("sys.errorLog.tableActionDesc"),onClick:a.bind(null,p)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{he as default};
