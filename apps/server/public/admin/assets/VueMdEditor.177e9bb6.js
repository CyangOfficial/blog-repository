import{u as h,aj as f,_ as c,h as v}from"./index.87f2c6de.js";import{A as b,r as p,a0 as V,B as _,a1 as $}from"./vendor.67815207.js";const{uploadUrl:E=""}=h();function M(e,o){return f.uploadFile({url:E,onUploadProgress:o},e)}const U=b({props:{height:{type:Number,default:400},value:{type:String,default:""}},emits:["update:value"],setup(e,{emit:o}){const{createMessage:l}=v(),u=e.value,d=p(null),n=p("undo redo clear | tip h bold italic strikethrough quote | ul ol table hr | link emoji image code | todo-list");return{mdValue:u,mdEditor:d,leftToolBar:n,handleUploadImage:(s,m,i)=>{i.length>1&&l.error("\u4EC5\u652F\u6301\u5355\u5F20\u4E0A\u4F20"),M(i[0]).then(g=>{const{data:a}=g;console.log(a),l.success(a.code===0?"\u4E0A\u4F20\u6210\u529F":a.message),m({url:a.result.url,desc:a.result.name,width:"auto",height:"auto"})})},handleMdChange:s=>{o("update:value",s)}}}});function C(e,o,l,u,d,n){const r=V("v-md-editor");return _(),$(r,{height:`${e.$props.height}px`,"disabled-menus":[],onUploadImage:e.handleUploadImage,"left-toolbar":e.leftToolBar,modelValue:e.mdValue,"onUpdate:modelValue":o[0]||(o[0]=t=>e.mdValue=t),ref:"mdEditor",onChange:o[1]||(o[1]=t=>e.$emit("update:value",t))},null,8,["height","onUploadImage","left-toolbar","modelValue"])}var F=c(U,[["render",C]]),I=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F});export{F as V,I as a,M as u};
